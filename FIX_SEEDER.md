# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏–¥–µ—Ä–æ–≤ - –®–∞–≥ –∑–∞ —à–∞–≥–æ–º

## –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ `php artisan db:seed` –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –æ—à–∏–±–∫–∞:
```
SQLSTATE[HY000]: General error: 1 no such table: product_promotion
```

–ò –æ—à–∏–±–∫–∞ –≤ Filament:
```
Call to a member function getRelated() on null
```

## –†–µ—à–µ–Ω–∏–µ

–í—Å–µ —Å–∏–¥–µ—Ä—ã –±—ã–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:

### ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å–∏–¥–µ—Ä–∞—Ö:

1. **DatabaseSeeder.php**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `firstOrCreate()` –≤–º–µ—Å—Ç–æ `factory()`
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö

2. **CategorySeeder.php**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `firstOrCreate()` –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –¥—É–±–ª–µ–π
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

3. **BrandSeeder.php**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `firstOrCreate()`
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

4. **ProductSeeder.php**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `firstOrCreate()` –ø–æ SKU
   - –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–æ–∑–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–æ–≤—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

5. **PromotionSeeder.php**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `firstOrCreate()`
   - –¢–æ–≤–∞—Ä—ã –ø—Ä–∏—Å–æ–µ–¥–∏–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ–Ω–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

6. **BannerSeeder.php**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `firstOrCreate()`
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

## üöÄ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞

### –®–∞–≥ 1: –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –ë–î —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏

**–í–ê–ñ–ù–û:** –ó–∞–ø—É—Å—Ç–∏—Ç—å —ç—Ç–æ –ü–ï–†–ï–î —Å–∏–¥–µ—Ä–∞–º–∏!

```bash
cd e:\OSPanel\home\obi-company\obi

# –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –ë–î (—Å–æ—Ç—Ä—ë—Ç –≤—Å–µ —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ)
php artisan migrate:fresh
```

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏–¥–µ—Ä—ã

```bash
# –ó–∞–ø–æ–ª–Ω–∏—Ç—å –ë–î —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
php artisan db:seed
```

**–ò–õ–ò –≤—Å–µ –≤ –æ–¥–Ω—É –∫–æ–º–∞–Ω–¥—É:**

```bash
php artisan migrate:fresh --seed
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

```bash
# –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è MySQL
mysql -u root -p obi -e "SELECT COUNT(*) as products FROM products;"

# –ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
php artisan serve
```

## ‚úÖ –ß—Ç–æ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–æ

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥:

| –¢–∞–±–ª–∏—Ü–∞ | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ |
|---------|-----------|
| categories | 13 (8 –æ—Å–Ω–æ–≤–Ω—ã—Ö + 5 –ø–æ–¥) |
| brands | 20 |
| products | 20 |
| product_images | 20 |
| banners | 6 |
| promotions | 4 |
| users | 2 (admin + user) |

### –¢–µ—Å—Ç–æ–≤—ã–µ —É—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏:

```
Email: admin@example.com
–ü–∞—Ä–æ–ª—å: password123

Email: user@example.com
–ü–∞—Ä–æ–ª—å: password123
```

## üîê –ï—Å–ª–∏ –±–∞–∑–∞ —É–∂–µ —Å–æ–∑–¥–∞–Ω–∞ –∏ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ

```bash
# –¢–æ–ª—å–∫–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏–¥–µ—Ä—ã –±–µ–∑ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è –ë–î
php artisan db:seed
```

**–í–Ω–∏–º–∞–Ω–∏–µ:** –≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –æ—à–∏–±–∫–∞–º –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç.
–î–ª—è –ø–æ–ª–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `migrate:fresh --seed`.

## üõ†Ô∏è –û—Ç–ª–∞–¥–∫–∞

### –ï—Å–ª–∏ –æ—à–∏–±–∫–∞: "Table exists"
```bash
# –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—Å—Ç–∏—Ç—å –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å
php artisan migrate:fresh --seed
```

### –ï—Å–ª–∏ –æ—à–∏–±–∫–∞: "Foreign key constraint"
```bash
# –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
php artisan migrate:status

# –û—Ç–∫–∞—Ç–∏—Ç—å –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å
php artisan migrate:rollback
php artisan migrate
php artisan db:seed
```

### –ï—Å–ª–∏ Filament –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É "getRelated() on null"
```bash
# –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à Filament
php artisan filament:cache-clear

# –ó–∞–Ω–æ–≤–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Å–∏–¥–µ—Ä—ã
php artisan migrate:fresh --seed
```

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

–ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Å–∏–¥–µ—Ä–æ–≤ –≤—ã —É–≤–∏–¥–∏—Ç–µ –≤—ã–≤–æ–¥:

```
Database\Seeders\CategorySeeder .................. RUNNING
‚úì Created categories

Database\Seeders\BrandSeeder .................... RUNNING
‚úì Created brands

Database\Seeders\ProductSeeder .................. RUNNING
‚úì Created products

...

DatabaseSeeder PASSED
‚úì –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —É—Å–ø–µ—à–Ω–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞!
‚úì –¢–µ—Å—Ç–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:
  - Email: admin@example.com, –ü–∞—Ä–æ–ª—å: password123
  - Email: user@example.com, –ü–∞—Ä–æ–ª—å: password123
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ

```
http://localhost:8000/
```

–ù–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –¥–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è —Ç–æ–≤–∞—Ä—ã.

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ Filament

```
http://localhost:8000/admin
```

–í–æ–π—Ç–∏ —Å —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ admin@example.com / password123

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏–¥–Ω—ã –≤—Å–µ —Ç–æ–≤–∞—Ä—ã, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –±—Ä–µ–Ω–¥—ã –∏ —Ç.–¥.

## üéØ –ò—Ç–æ–≥

–í—Å–µ —Å–∏–¥–µ—Ä—ã —Ç–µ–ø–µ—Ä—å:
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω—ã (–∏—Å–ø–æ–ª—å–∑—É—é—Ç `firstOrCreate`)
- ‚úÖ –ù–∞–¥–µ–∂–Ω—ã (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫)
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã (—Å–æ–æ–±—â–µ–Ω–∏—è –æ —Ö–æ–¥–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)
- ‚úÖ –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã (–º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑)

---

**–ì–æ—Ç–æ–≤–æ! üéâ**
